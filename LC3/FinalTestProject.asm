;
;  USES A STACK TO REVERSE UP TO 10 DIGITS
;
	.ORIG	X3000
	LEA	R0, PROMPT
	TRAP	X22
	LD	R3, NEGENTER
AGAIN	TRAP	X20
	TRAP 	X21
	ADD	R2, R0, R3
	BRZ	NEXT
	JSR	PUSH
	BRNZP	AGAIN
NEXT	JSR	POP
	ADD	R4, R5, #0
	BRP	END
	TRAP	X21
	BRNZP	NEXT
END	HALT
NEGENTER .FILL	XFFF6
PROMPT	.STRINGZ "PUT IN UP TO 10 NUMBERS (0-9) AND PRESS ENTER:>  "
POP	ST	R2, SAVER2
	ST	R1, SAVER1
	LD	R1, BASE
	ADD	R1, R1, #-1
	ADD	R2, R6, R1
	BRZ	FAIL_EXIT
	LDR	R0, R6, #0
	ADD 	R6, R6, #1
	BRNZP	SUCCESS_EXIT
PUSH	ST	R2, SAVER2
	ST	R1, SAVER1
	LD	R1, MAX
	ADD	R2, R6, R1
	BRZ	FAIL_EXIT
	ADD	R6, R6, #-1
	STR	R0, R6, #0
SUCCESS_EXIT LD	R1, SAVER1
	LD	R2, SAVER2
	AND	R5, R5, #0
	RET
FAIL_EXIT LD	R1, SAVER1
	LD	R2, SAVER2
	AND	R5, R5, #0
	ADD	R5, R5, #1
	RET
BASE	.FILL	XC001
MAX	.FILL	XC00A
SAVER1	.FILL	X0000
SAVER2	.FILL	X0000
	.END